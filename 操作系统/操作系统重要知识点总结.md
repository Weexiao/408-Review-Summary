# 一些重要数据结构

1. 中断向量表

   不同的中断信号有不同的中断处理程序处理，==当CPU检测到中断信号后，会根据中断信号类型去查询中断向量表，以此来找到中断处理程序(内核程序)在内存中的位置==

2. 进程控制块

   用来描述进程的基本情况和运行状态，进而控制和管理进程

   ![进程控制块 PCB](%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97%20PCB.png)



# 一些重要寄存器

主要能分为两类，用户程序可见寄存器(存数据)和控制与状态寄存器

1. 指令寄存器 IR

   存放指令

2. 程序计数器 PC

   下一条要执行的指令在主存中的位置

3. 程序状态字寄存器

   PSW(程序状态字)：描述程序动态执行的行为，内容有：程序计数器、指令寄存器、条件码、中断位、中断允许位、中断屏蔽位、处理器模式位、主存保护位等

   即保存程序状态字的寄存器，大部分计算机都有

   

# 一些重要结论



# ==进程与线程==

必考重点，**进程概念、进程调度、信号量机制实现同步和互斥、进程死锁**乃是重中之重，其中==信号量机制实现同步和互斥、进程调度算法和死锁都可能出综合题==

## 进程和线程

### 进程的概念和特征

1. 概念

   程序：静态的，存放在磁盘上的可执行文件，即一系列指令集合

   进程：动态的，程序的一次执行过程，故同一个程序可以对应多个线程，“运行着的程序”

2. 组成

   进程控制块PCB：用来描述进程的基本情况和运行状态，进而控制和管理进程

   ![进程控制块 PCB](%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97%20PCB.png)

   PCB+程序+数据=进程实体(进程映像)

   Note: 进程与进程实体之间的区别

   - 进程是动态的，是进程实体的运行过程
   - 进程实体是静态的(可能会变)，反应某一时刻进程的状态

   > 在没有引入线程时，进程是系统进行资源分配和调度的基本单位
   >
   > 引入线程后，进程是系统进行资源分配的基本单位，线程是系统进行调度的最小单位

3. 特征

   - 动态性

     进程是程序的一次执行过程，是动态地产生、变化和消亡的

     **==进程的最基本特征==**

   - 并发性

     内存中可同时有多个进程，各进程之间并发执行

   - 独立性

     进程实体是一个能独立运行、独立获得资源和独立接受调度的基本单位

   - 异步性

     进程执行具有异步性

   - 结构性

     每个进程都有PCB

### 进程的状态与转换 & 进程的组织

1. 进程的状态与转换

   - 创建态

     时间：进程正在创建时

     **操作系统为进程分配资源，初始化PCB**

   - 就绪态

     时间：进程创建完成后

     进程已具备执行条件，但无空闲CPU，故不能执行；**系统可能有很多进程都在就绪态**

   - 运行态

     时间：进程在CPU上运行时

     CPU会执行进程对应的程序；对单核CPU来说，一个时刻只可能有一个进程在运行态，而多核CPU，一个时刻可能有多个进程在运行态

   - 阻塞态(等待态)

     进程可能在请求某个时间的发生(如等待某种资源的分配或等待其他进程的响应)，该事件发生前，此进程无法运行，则进入阻塞态，发生后则进入就绪态

   - 结束态(终止态)

     进程运行结束，执行exit系统调用，请求操作系统终止该进程，进入终止态；

     回收内存空间等资源，最后回收PCB

   ![image-20220725223200080](%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/image-20220725223200080.png)

2. 进程的转化