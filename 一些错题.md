# 数据结构

## 2012年408真题

1. ![image-20221018182901606](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018182901606.png)

	此题主要考察二叉树的构建问题，已知前序、后序求可能的树结构，根据两种序列可知根节点的孩子只可能有e，其他节点都不是根节点的孩子节点，否则不会出现上述遍历序列，故选A

2. ![image-20221018183826183](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018183826183.png)

	![image-20221018184040932](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018184040932.png)

3. ![image-20221018184140211](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018184140211.png)

	具体答案见数据结构中的一些算法题.md

## 2013年408真题

1. ![image-20221018203618915](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018203618915.png)

	考察知识点，多叉哈夫曼树构建+WPL计算方法，答案选B

## 2015年408真题

1. ![image-20221020203658213](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020203658213.png)

	先求出模式串的next数组，可见next[5]=2，故j变为2

2. ![image-20221020203854185](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020203854185.png)

	只有计算排序的元素移动次数与关键字的初始排序次序无关

3. ![image-20221020203926478](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020203926478.png)

	新的小顶堆为{12,15,10,21,34,16}，重建小顶堆从12开始，12与15、10比较，交换10与12位置，之后12与16比较一次，共比较3次

4. ![image-20221020204954018](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020204954018.png)

	**邻接矩阵的性质**：$A^M$中非零元素$A^M[i][j]=k$的含义是从i节点到j节点长度为m的路径共有k个

## 2016年408真题

1. ![image-20221023191538472](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023191538472.png)

	拓扑排序在邻接矩阵的情况下才有$O(n^2)$，邻接表的复杂度为$O(n+e)$

## 2019年408真题

1. ![image-20221025205848536](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025205848536.png)

	一个初始无序序列，所有元素都没有确定最终位置，对所有元素做一次(趟)快速排序后一个元素确定最终位置，且将原序列分为前后两端，此时前后两块子表是无序的。按趟的解释—对尚未确认最终位置的所有元素进行依次处理称为一趟，故需要对前后两个子表都做一次快速排序才算一趟快速排序，如果只对一个子表进行了排序，而未处理另一块子表，就不能算是完整的一趟

	而选项D无论先匹配12还是先匹配32，都会将序列分成两块，那么第两趟必须有两个元素匹配，所以D不对

2. ![image-20221025210459507](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025210459507.png)

	![image-20221025210545364](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025210545364.png)

	见算法

3. ![image-20221025210608254](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025210608254.png)

	- 顺序存储无法满足随时增加队列占用空间，链式存储方便开辟新空间，故使用链式存储结构

		出队后的结点不直接释放，用队头指针指向新的队友结点，新元素入队时，有空闲结点则无需开辟新空间，赋值到队尾后的第一个空结点即可，然后用队尾指针指向新的队尾结点，这就需要设计成一个首尾相接的循环单链表，类似于循环队列的思想

		设置队头、队尾指针后，链式队列的入队操作和出队操作时间复杂度均为$O(1)$

	- 初始时，创建只有一个空闲结点的循环队列，头指针front和尾指针rear均指向空闲结点，如下

		![image-20221025211511045](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025211511045.png)

		队空：front==rear

		队满：front==rear$->$next

	- 入队时先判断是否队满，若队满则新建一个存储空间加入，然后在队尾指针处插入数据，然后让rear=rear->next

		![image-20221025211746850](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025211746850.png)

	- ```c
		// 入队
		if(front == rear->next)
		    插入在rear后插入新节点;
		在rear处插入数据;
		rear = rear->next;
		
		// 出队
		if(front == rear)
		    队空，则出错;
		将front处数据输出;
		front = front->next;
		```

# 操作系统

## 2012年408真题

1. ![image-20221018183151774](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018183151774.png)

	由中断处理过程可知，只有关中断、保存断点、识别中断源由硬件完成，而在响应外部中断的过程中，中断隐指令主要做了关中断、保护断点和引入中断服务程序这三件事，故选B

## 2013年408真题

1. ![image-20221018203719935](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018203719935.png)

	**已知某磁盘的平均转速为r秒/转，平均寻道时间为T秒，磁盘传输速率为v，磁盘控制器延迟为s，求读取一个m大小的磁盘所需的平均时间**

	转一圈需要$\frac{1}{r}$秒，故平均查找扇区时间为$\frac{1}{2r}$秒，故平均时间为$\frac{1}{2r}+T+s+\frac{m}{v}$

2. ![image-20221018203815038](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018203815038-1666096696065-1.png)

	**中断I/O方式和DMA方式的比较**

	**中断处理方式**：在I/O设备输入每个数据的过程中，由于无需CPU干预，因而可使CPU和I/O设备并行工作。仅当输完一个数据时，才需CPU花费极短时间去做些中断处理。因此**中断申请使用的是CPU处理时间，发生的时间是在一条指令执行结束之后，数据是在软件的控制下完成传送，且对设备无要求**

	**DMA方式**：数据传输的基本单位为数据块，即在CPU与I/O设备之间，每次传送至少一个数据块；**DMA方式每次申请的是总线的使用权，所传送的数据是从设备直接送入内存的，或者相反；仅在传送一个或多个数据块的开始和结束时，才需CPU干预，整块数据的传送是在控制器的控制下完成的，且对设备无要求**

3. ![image-20221018203852778](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018203852778-1666096733248-3.png)

	优先选择计算时间少，I/O时间多的进程

## 2014年408真题

1. ![image-20221019210307002](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221019210307002.png)

	在50ns内，无论怎么延迟，每400ns都要处理100ns，故$\frac{100}{400}=25\%$

## 2015年408真题

1. ![image-20221020204207937](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020204207937.png)

	$I$只有在使用顺序资源分配法时才成立，故选B

2. ![image-20221020205152043](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020205152043.png)

	对于二级页表，如下

	|  31……22  |  21……12  |     11……0      |
	| :------: | :------: | :------------: |
	| 页目录号 | 页表索引 | 页内偏移量来说 |

	页目录号对应二级页表，页表索引对应一级页表，因为二级页表是在一级页表的基础上为了减少页表连续存储的可能性再划分的，故页目录号对应二级页表

## 2016年408真题

1. ![image-20221023192102536](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023192102536.png)

	访存时缺页是在处理器执行过程中即处理器内部发送的事件，故访存时缺页为异常

## 2017年408真题

1. ![image-20221023201645083](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023201645083.png)

	![image-20221023201659057](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023201659057.png)

	磁盘初始化共三步

	- 物理初始化：一开始只有磁道，没有扇区，物理初始化需要划分扇区，且需要初始化扇区的数据结构，如扇区校验码所占位数
	- 对文件进行分区
	- 逻辑初始化：创建文件系统的根目录，初始化存储空间管理所用数据结构如位示图或空闲分区表等

## 2018年408真题

1. ![image-20221024201540661](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221024201540661.png)

	由题意可得，系统进程调度方式为$P_2,P_3,P_1$，故平均周转时间为$\frac{(15+25)+(62+18)+(75+30)}{3}=75$

2. ![image-20221024202103739](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221024202103739.png)

	在同一时刻，管程中只能有一个进程在执行。如果进程A执行了x.wait()操作，那么该进程会阻塞，并挂到条件变量x对应的阻塞队列上。这样，管程的使用权被释放，就可以有另一个进程进入管程。如果进程B执行了x.signal()操作，那么会唤醒对应的阻塞队列队头进程。

	在Pascal语言的管程中，规定只有一个进程要离开管程时才能调用signal()操作

3. ![image-20221024203600033](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221024203600033.png)

	时钟中断的主要工作是处理和时间有关的信息以及决定是否执行调度程序，和时间有关的所有信息，包括系统时间、进程的时间片、延时、使用CPU的时间、各种定时器，故三者都对

## 2019年408真题

1. ![image-20221025212141360](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025212141360.png)

	每个设备都有一个设备驱动程序，设备驱动程序向上层用户提高一组标准接口，负责时间对设备发出各种具体指令，用户程序不能直接和DMA打交道

	DMA的数据传送过程分为预处理、数据传输和后处理3个阶段。

	预处理阶段由CPU完成必要的准备工作，数据传送前由DMA控制器请求总线使用权，数据传送由DMA控制器直接控制总线完成

	传送结束后，DMA控制器向CPU发送中断请求，CPU指向中断服务程序做DMA结束处理

2. ![image-20221025212729722](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025212729722.png)

	![image-20221025212750727](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025212750727.png)

	见操作系统总结

3. ![image-20221025212805818](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025212805818.png)

	注意主要的管理空闲磁盘块方法有：空闲表法、空闲链表法、位示图法和成组链表法

	FAT不仅记录了文件中各个块的先后连接关系，同时还标记了空闲的磁盘块，操作系统可以通过FAT来对文件存储空间进行管理

## 2020年408真题

虽然在做题过程中无出现重大失误，但也暴露出了一些问题，如中断处理部分，设备处理部分

## 2021年408真题

1. ![image-20221029192319734](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192319734.png)

	只能在内核态运行的指令为特权指令，常见的特权指令有

	- I/O操作指令
	- 查看处理器状态指令
	- 存取特殊寄存器指令
	- 其他指令

	故只有I/O指令在内核态运行，其他指令都在用户态运行

2. ![image-20221029192405305](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192405305.png)

	![image-20221029192420043](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192420043.png)

	可见该虚拟地址对应虚拟页号为02，而02对应的页框号不在内存中，需要从外存中读出并换入内存，而此时页框大小为2，使用LRU算法可见将3号页换出，将2号页写入60H中，故经地址变换后物理地址为60A01H

3. ![image-20221029192446722](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192446722.png)

	**在多级页表中，页表基址寄存器存放的是顶级页表的起始物理地址，故存放的是一级页表的起始物理地址**

# 计算机网络

## 2012年408真题

1. ![image-20221018183529116](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018183529116.png)

	为了使信道利用率提高，则需要尽可能多的发数据帧，故选择发小数据帧
	$$
	\frac{\frac{128*8bit}{16kps}*N}{\frac{128*8bit}{16kps}+RTT}=1 \\
	N=10.4
	\tag{1}
	$$
	故比特数至少为4位

## 2013年408真题

1. ![image-20221018204003129](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221018204003129.png)

	对于直通交换来说，交换机进行最少的检查，故实际上只检查了目的地址就进行转发，转发延迟为$\frac{6*8}{100Mbps}=0.48 \mu s$


## 2014年408真题

1. ![image-20221019210240399](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221019210240399.png)

	A、B、C一起共享链路，A、B、C的码片序列分别为()、()、()。若C从链路上收到的序列是(2,0,2,0,0,-2,0,-2,0,2,0,2)，则C收到A的信息就是收来的序列乘A的码片序列，故信息为$\frac{(2,0,2,0)*(1,1,1,1)}{4}=1,\frac{(0,-2,0,-2)*(1,1,1,1)}{4}=-1,\frac{(0,2,0,2)*(1,1,1,1)}{4}=1$即101

## 2015年408真题

1. ![image-20221020204312900](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020204312900.png)

	此处需要注意滑动窗口协议中帧序号比特数$b$和每次能发送多少$n$之间的关系

	- GBN：$2^b-1 \ge n$
	- SR：$2^{b-1} \ge n$

	故对于此题，由于$\frac{n*\frac{1000*8bit}{128kps}}{\frac{1000*8bit}{128kps}+500} \ge 80\%$，故$n \ge 7.2$，故$2^b-1 \ge 7.2$，故$b \ge 4$

2. ![image-20221020204708082](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221020204708082-1666270028463-1.png)

	注意读题，乙只为这个链接分配了16KB接受缓存，该缓存是会少的，不是恒定的

	|    t     |  1   |  2   |  3   |  4   |  5   |
	| :------: | :--: | :--: | :--: | :--: | :--: |
	| 发送窗口 |  1   |  2   |  4   |  8   |  1   |
	| 接受窗口 |  15  |  13  |  9   |  1   |  1   |
	| 拥塞窗口 |  32  |  32  |  32  |  32  |  32  |


## 2016年408真题

1. ![image-20221023192239748](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023192239748-1666524160328-1.png)

	以太网最短帧长为64B，故传输时延为$\frac{64*8bit}{100Mbps}=2.56 \mu s$，理想条件下传输时延=处理时延+传播时延，故传播时延为$2.56 \mu s-1.535 \mu s=1.025 \mu s$，故最远距离为$200*1.025=205m$

2. ![image-20221023193653078](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023193653078.png)

	最少情况下本域名服务器就有该域名，故查询0次

	最多情况下需要查根域名服务器、顶级域名服务器(com)、权限域名服务器(xyz.com)、权限域名服务器(abc.xyz.com)故查4次

## 2017年408真题

1. ![image-20221023202857109](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023202857109.png)

	IEEE802.11协议帧地址1为接受端地址，地址2为发送端地址，地址3为目的地址，地址4为源地址

	故此处应该选B

2. ![image-20221023203113635](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221023203113635.png)

	FTP的数据连接确实在数据传输完毕后就关闭，但数据连接连接的端口不一定，按传输模式变，若为主动模式则使用20，被动模式由客户端和服务端协商使用什么端口

## 2019年408真题

1. ![image-20221025213105582](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025213105582.png)

	为了保证满足在窗口中发送缓存的帧序号不存在二义性，那么需要$发送窗口+接受窗口 \le 2^n$

	例如n=3时，若发送窗口大小+接受窗口大小超出帧序号数，那么说明其容纳下的帧数已经超过了帧的序号，故一定出现重复的帧号

2. ![image-20221025213117145](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221025213117145.png)

	由于要求可能的最小子网，故是变长子网分配，5个子网网络前缀分别有20、21、22、23、24，故最小子网可分配IP地址数为$2^8-2=254$

## 2020年408真题

1. 协议三要素

	- 语法：怎么发
	- 语义：发什么
	- 时序：同步

2. ![image-20221026192354085](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221026192354085.png)

	具体见CMSA/CA一章

	故IFS1为DIFS，时间最长，剩下的所有IFS都是SIFS，故时间相等，选A

3. ![image-20221026192414274](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221026192414274.png)

	由于所求的时间为最长时间，故设当前慢开始门限ssthresh为8KB，则增长到32KB使用加法增大算法，使用了24个RTT，故最长时间为48ms

4. ![image-20221026192429296](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221026192429296.png)

	最短情况下访问一次本地域名服务器，直接访问abc.com一次，故最短时间为20ms

	最长情况下递归访问一次本地域名服务器，接下来需要迭代查询各级域名服务器3次，访问abc.com一次，故最长时间50ms

## 2021年408真题

1. ![image-20221029192650591](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192650591.png)

	差分曼彻斯特算法同1异0，查看可知只有A符合题意

2. ![image-20221029192702748](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192702748.png)

	由于子网划分有两种形式，等长划分和不等长划分

	可见使用可变长划分，A、C可将子网划分为192.168.9.0/25、192.168.9.128/26、192.168.9.192/26，故符合题意

	同理D，可将子网划分为192.168.9.0/26、192.168.9.128/26、192.168.9.192/27

	而B只能等长划分为4个子网，故B正确

3. ![image-20221029192717289](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192717289.png)

	由于最大数据长度为780B，且数据偏移量为8B整数倍，故最大数据长度为776，故将IP数据报划分为3个分片，则对于第二个分片，其总长度为796B，由于不是最后一个数据报，故MF=1

4. ![image-20221029192733909](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192733909.png)

	![image-20221029194118455](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029194118455.png)

	观察可得，B选项正确

5. ![image-20221029192748145](%E4%B8%80%E4%BA%9B%E9%94%99%E9%A2%98.assets/image-20221029192748145.png)

	由于当前接受窗口大小为500B，且已经从500发了200B，所以还可以发701~1000