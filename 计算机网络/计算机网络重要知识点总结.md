# 一些重点协议

## 物理层

Rj45，802.3

## 数据链路层

SDLC，HDLC，PPP，STP和帧中继等

- PPP

## 网络层

- IP
- IPX
- ICMP
- IGMP
- ARP
- RARP
- OSPF

## 传输层

- TCP
- UDP

应用层

- FTP
- SMTP，POP3
- HTTP
- DNS



# TCP/IP模型各层总结



# 一些重要地址

## MAC地址

## IP地址

## 端口号



# 一些重要设备

## 网络层

路由器

## 链路层

## 物理层

中继器

集线器



# 通信基础

多为选择题，重点是==奈奎斯特定理和香农定理、编码与调制技术、数据交换方式，以及电路交换、报文交换与分组交换技术等==

## 基本概念

### 数据通信相关术语

1. 数据

   传递信息的实体，通常是有意义的二进制序列

2. 数据通信

   在不同计算机之内传输表示信息的二进制序列的过程

3. 信号

   数据的电气/电磁表现，是数据在信道上的存在形式

   可分为：

   - 数字信号(离散信号)：代表信号的参数取值是离散的

   - 模拟信号(连续信号)：代表信号的参数取值是连续的

     ==发什么信号由信道决定，信道是离散的就发离散信号==

4. 信源

   信号源头

5. 信宿

   信号目的地

6. 信道

   信号的传输媒介；

   Note: 一般用来表示向某一端传输信息的介质，故一条通信线路有一条发送信道和一条接受信道

   分类：

   - 按传输信号分：模拟信道(模拟信号)、数字信道(数字信号)
   - 按传输介质分：无线信道(Wifi)、有线信道(双绞线)

### 三种通信方式

1. 单工(你说我听)

   一方只能发，另一方只能收，故一条信道

2. 半双工(我一句你一句)

   双方都能收发，但同时只能一方发另一方收，两条信道

3. 全双工(一起说)

   双方可同时收发

### 数据传输方式

1. 并行传输

   将表示一个字符的8位二进制数同时通过8条信道发送

   特点：速度快，费用高，适合近距离

   多用在计算机内部数据传输

   ```mermaid
   %%{init:{'theme':'base', 'themeVariables':{'fontSize':'8px'}}}%%
   graph LR
   A[发送方]--0-->B[接受方]
   A--其他字符-->B
   A--1-->B
   ```

   

2. 串行传输

   将表示一个字符的8位二进制数按位依次发送

   特点：速度满，费用低，适合远距离

   ```mermaid
   graph LR
   A[发送方]--00001111-->B[接受方]
   ```

   

### 同步 or 异步传输(实现字符同步方法)

1. 同步传输

   数据的传输以一个数据区块为单位，故也叫区块传输

   在传输数据时，先发出1个或多个同步字符，在发数据

2. 异步传输

   将比特拆分为小组传输，发送方可以在任意时刻发送，接收方不确定什么时候到达

   在发送时数据加上起始位和结束位

​	为什么实现字符同步？

​	需要知道数据的开头、内容、结尾等

### 速率有关概念

1. 码元

   概念：是指用一个固定时长的信号波形(数字脉冲)，代表不同离散数值的基本波形

   码元是数字通信中数字信号的计量单位，这个时长内的信号称做k进制码元，而该时长称为码元宽度

   当码元的离散状态有M个时(M>2)，此时码元为M进制码元

   Note: 1码元可以携带多个比特的信息量

   > 二进制码元只有0、1两种状态，故其信息量为1比特
   >
   > 四进制码元则有00、01、10、11四种状态，故其信息量为2比特
   >
   > $2^n$进制码元信号量便有$n$比特

2. 速率

   可分为码元传输速率和信息传输速率

   - 码元传输速率(波特率)

     **单位时间内数字通信系统所传输的码元个数(脉冲个数或信号变化次数)**，单位是波特 B

     码元传输速率与码元进制数无关，只与码元长度T有关

     $$R_B=\frac{1}{T}B$$

   - 信息传输速率

     单位时间内数字通信系统所传输的码元所含信息数，单位为比特/秒 b/s

   - 二者关系

     若一个码元携带$n$ bit的信息量，则$M$ B的码元传输速率对应的信息传输速率为$M*n$ bit/s

3. 带宽

   表示单位时间内从网络的一点到另一点所能通过的最高数据率在一单位时间内通过链路的数量，单位是bps（比特每秒）

## 奈奎斯特定理与香农定理

只有此处带宽为Hz

### 失真

![image-20220726210614672](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/image-20220726210614672.png)

### 奈氏准则(奈奎斯特定理)

限制码元极限传输速率

**在理想低通(无噪音 带宽受限)条件下，为了避免码间串扰，极限码元传输速率为$2W$Band，W为信道带宽(Hz)；故极限数据传输速率为$2Wlog_2V$b/s，V为码元进制数**

Note:

1. 在任何信道上，码元传输速率都有上限，否则会出现码间串扰线性
2. 信道的带宽越宽(能通过的信号频数越多)，就可以用更高的速率(W越大码元速率越大)进行码元的传输
3. 奈式准则只限制了码元传输速率，没有限制数据传输速率
4. 由于码元传输速率受奈氏准则规约，故要提高数据传输速率，可以设法让码元携带更多的比特信息量，即提高码元进制数

### 香农定理

信噪比：用来衡量噪声对信号的影响

$$信噪比=\frac{信号的平均速率}{噪声的平均速率}$$ 记为 $\frac{S}{N}$，并用分贝(dB)作为单位，即$信噪比(dB)=10log_{10}\frac{S}{N}$

香农定理

在带宽受限且有噪声的信道中，为了不产生误差，数据传输速率有上限值，一般给定信噪比dB求$\frac{S}{N}$
$$
信道的极限数据传输速率=W*log_2(1+\frac{S}{N}) \qquad (b/s)
$$
Notes:

1. 信道的带宽或信道中信噪比越大，极限数据传输速率越大
2. 传输带宽与信噪比确定后，极限数据传输速率确定
3. 只要信息传输速率低于信道极限信息传输速率，总有方式让数据无差错传输
4. 实际的信道传输速率远低于信道极限信息传输速率

> 若题中有信噪比，则奈氏准则和香农定理各求一次，取其数据传输速率最小值

## 编码与调制

### 基带信号与宽带信号

信道上传输的信号的两种形式，与数字、模拟信号是两种分类方式

1. 基带信号：将数字信号0、1用两种不同电压表示，再送到数字信道上传输(基带传输)

	> 一般来说基带信号就是发出的直接表达要传输信息的信号
	>
	> 距离近

2. 宽带信号：将基带信号进行调制后形成的==频分复用模拟信号==，再传到==模拟信道==上进行传输(宽带传输)

	> 距离源

### 编码与调制

编码：用在基带传输，规定0、1表示方法

调制：将基带信号转成宽带信号

![编码和调制](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/%E7%BC%96%E7%A0%81%E5%92%8C%E8%B0%83%E5%88%B6.png)

## 电路交换、报文交换与分组交换

![三种交换方式](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/%E4%B8%89%E7%A7%8D%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F.png)

### 电路交换

原理：在数据传输期间，在源节点和目的节点之间建立一条由中间节点组成的==专用物理链路==，在数据传输结束前，该链路一直存在

阶段

```mermaid
graph LR
A[建立连接 呼叫或电话建立]-->B[通信 电路传输]-->c[释放连接 拆分电路]
```

特点

- 独占资源，在这条链路上用户始终占用
- 适用于远程批处理系统或对实时性要求很高的大量数据传输系统

优缺点

|                             优点                             |                             缺点                             |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
|                          传输时延小                          |                        建立连接事件长                        |
|                   数据顺序到达，无失序问题                   | 线路独占，即使目前线路空闲，其他用户也无法使用，信道使用效率低 |
| 实时性强，双方一旦建立物理通路，便可以实时通信，适用于交互式会话类通话 | 灵活性差，双方连接通路中的任意一点宕机，便必须重新拨号建立新连接，不适应突发通信 |
| 全双工通信，没有冲突，通信双方有不同的信道，不会争用物理信道 |                无数据存储能力，难以平滑通信量                |
|                   适用于数字信号和模拟信号                   | 电路交换时，数据直达，不同类型、不同规格、不同速率的终端很难相互进行通信 |
|             控制简单，电路的交换设备及控制较简单             |     无法发现与纠正传输差错，难以在通信过程中进行差错管理     |

例子

![image-20220728193127989](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/image-20220728193127989.png)

### 报文交换

报文：网络中交换与传输的数据单元，即站点一次性要发送的数据块；包含了将要发生的完整的数据信息，==其长短很不一致，长度不限且可变==

原理：无需在传输过程中建立物理链路，其数据传输单位为报文；使用存储转发技术

- 每个节点收下整个报文后，暂存报文并检查有无错误
- 当所需的输出链路空闲时，利用路由信息找到下一个节点地址，传输到下一个节点
- 在两个通信用户之间其他线路段可传输其他用户的报文，不独占

优缺点

|                             优点                             |                             缺点                             |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
|       无需建立连接，无建立链接时延，用户可随时发送报文       | 实时性差，不适合传输实时或交互式业务的数据，数据进入交换节点后要经历存储转发过程，从而引起转发时延 |
|   动态分配线路，动态选择报文通过的最佳路径，可以平滑通信量   |                     ==只适用于数字信号==                     |
|          提高线路可靠性，某条链路宕机可选用其他线路          |                                                              |
|                  提高线路利用率，线路不独占                  |                                                              |
|           提供多目标服务，一个报文可到达多个目的地           |                                                              |
| 在存储转发中容易实现代码转换和速率匹配，甚至收发双方可以不同时处于可用状态，便于计算机通信 | 由于报文长度没有限制，而每个中间节点都要完整的接受传来的整个报文，当输出线路不空闲时，还可能要存储多个完整报文等待转发，要求网络中每个节点有较大的缓冲区，为了介绍成本，有时候要把等待转发的报文存在硬盘上，增大了传输时延 |

### 分组交换

分组：将任意长度的报文划分为等长的小块，然后成块的发送

原理：与报文传输基本类似，只是将传输单元从任意长的报文改为固定长的分组

- 分组一般长为**128B**，以分组为单位进行传输和接收
- 发送节点将数据划分为一定长度的分组，接受节点将报文组装后发送给上层
- 分组=小数据块+控制信息(源地址+目的地址+分组序号)

优缺点

|                             优点                             |                             缺点                             |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
|       无需建立连接，无建立链接时延，用户可随时发送分组       | 比报文传输好一点，但还有存储转发时延，且结点交换机处理能力要求更强 |
|                         线路利用率高                         | 每个分组都要加控制信息，一定程度上降低了通信效率，增加了处理事件 |
|               简化了存储管理，因为分组长度固定               |                                                              |
| 加速存储，后一个分组的存储可以和前一个分组的转发并发操作；传输一个分组比一个报文所需缓冲区小 |                                                              |
|      减少出错几率和重发数据量，提高可靠性，减少传输时延      |                                                              |
|                   分组短小，适用于突发通信                   | 当**分组交换使用数据报传输**时，可能出现失序、丢失或重复分组，分组到达目的地时要对分组排序；若**使用虚电路传输**，虽无失序问题，但有呼叫建立、数据传输、释放虚电路三个阶段 |

### 数据传输方式选择

- 传输数据量大，且传送事件远大于呼叫时间，采用电路交换(电路时延最小)
- 端到端的通路有很多段的链路组成，采用分组交换
- 从信道利用率上来看，==**报文交换与分组交换优于电路交换，其中分组交换更优，尤其适合于计算机之间的突发通信**==
- ![image-20220728195213802](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/image-20220728195213802.png)

## 数据报传输和虚电路传输

### 数据报传输

传输过程

> ![image-20220728195525016](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.assets/image-20220728195525016.png)

1. 源主机(A)将报文分成多个分组，依次发送到直接相邻的结点A

2. 结点A对每个分组进行**差错检验和路由选择**，不同分组的下一站可能不同

3. 结点C收到$P_1$后，对$P_1$进行差错检验(其他结点同理)

	若正确则对A发确认信息，A收到确认后丢弃A副本

	若错误则让A重发

4. 分组到达B

特点

1. 用发送方提供无连接服务

### 虚电路传输